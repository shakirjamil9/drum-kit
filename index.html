<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="container">

        <div class="images">
            <div data-key="65" onclick="myfunc(this)" class="alldivs">
                <img src="images/crash.png" alt="">
                <kbd>A</kbd>
                
            </div>
            <div data-key="83" onclick="myfunc(this)" class="alldivs">
                <img src="images/kick.png" alt="">
                <kbd>S</kbd>
            </div>
            <div data-key="68" onclick="myfunc(this)" class="alldivs">
                <img src="images/snare.png" alt="">
                <kbd>D</kbd>
            </div>
            <div data-key="70" onclick="myfunc(this)" class="alldivs">
                <audio data-key="70" src="sounds/tom-1.mp3"></audio>
                <img src="images/tom1.png" alt="">
                <kbd>F</kbd>
            </div>
            <div data-key="74" onclick="myfunc(this)" class="alldivs">
                <img src="images/tom2.png" alt="">
                <kbd>J</kbd>
            </div>
            <div data-key="75" onclick="myfunc(this)" class="alldivs">
                <img src="images/tom3.png" alt="">
                <kbd>K</kbd>
            </div>
            <div data-key="76" onclick="myfunc(this)" class="alldivs">
                <img src="images/tom4.png" alt="">
                <kbd>L</kbd>
            </div>
        </div>

        <audio data-key="65" src="sounds/crash.mp3"></audio>
        <audio data-key="83" src="sounds/kick-bass.mp3"></audio>
        <audio data-key="68" src="sounds/snare.mp3"></audio>
        
        <audio data-key="74" src="sounds/tom-2.mp3"></audio>
        <audio data-key="75" src="sounds/tom-3.mp3"></audio>
        <audio data-key="76" src="sounds/tom-4.mp3"></audio>

    </div>
</body>
<script src="jquery.js"></script>
<script>
    // play sound on keydown

    window.addEventListener('keydown', function(e){
        var audio = document.querySelector(`audio[data-key="${e.keyCode}"]`)
        var keys = document.querySelector(`.images>div[data-key='${e.keyCode}']`)
        if(!audio) return;
        audio.play()
        audio.currentTime = 0;
        keys.classList.add('play')
    })

    // play sound on mouse click

    function myfunc(elem){        
        var audio = document.querySelector(`audio[data-key='${elem.getAttribute('data-key')}']`)
        audio.currentTime = 0;
        audio.play()
        elem.classList.add('play')
    }

    // remove class after sound ends

    var keys = document.querySelectorAll('.images>div')
    keys.forEach(key => {
        key.addEventListener('transitionend', removeTrans)
    })

    function removeTrans(e){
        this.classList.remove('play')
    }
</script>

</html>